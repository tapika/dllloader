set(CMAKE_CXX_STANDARD 20)
add_definitions(-DUNICODE -D_UNICODE)

add_executable(test_dllloader test_dllloader.cpp)
target_include_directories(test_dllloader PRIVATE ${CMAKE_SOURCE_DIR}/dllloader)
#target_link_libraries(test_dllloader ${CMAKE_CURRENT_BINARY_DIR}/$<CONFIG>/dllloader.lib)
target_link_libraries(test_dllloader dllloader)

target_compile_options(test_dllloader PRIVATE /clr)
target_compile_options(test_dllloader PRIVATE /Zc:twoPhase-)
#set_property(TARGET test_dllloader PROPERTY VS_GLOBAL_CLRSupport "true")
set_property(TARGET test_dllloader PROPERTY VS_DOTNET_TARGET_FRAMEWORK_VERSION "v4.8")
target_link_options(test_dllloader PUBLIC /DEBUG /ASSEMBLYDEBUG)

#target_compile_features(test_dllloader PRIVATE cxx_std_17)

configPaths(test_dllloader)


